@page "/LibrarianLogin"

@* @using LibaryManagementSystem.Services *@
@inject NavigationManager Navigation
@* @inject LibaryManagementSystem.Services.Librarian librarian *@
@using LibaryManagementSystem.Services
@inject Librarian librarian


<head>
    <title>LibrarianLogin</title>
    <link rel="stylesheet" href="css/Login.css">
</head>
<style>
    a {
        position: absolute;
        top: 10%;
        left: 10%;
        color: aliceblue;
    }

    h1 {
        text-align: center;
        position: absolute;
        top: 10%;
        left: 39%;
    }
</style>
<a href="/">
    <pre> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" 
        <path
            d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z" />
    </svg>  BACK</pre>
</a>
<h1>Librarian Login Page
</h1>
<main class="container">
    <h2>Login</h2>
    <form action="">
        <div class="input-field">
            <input type="text" name="username" id="username" placeholder="Enter Your Username" @bind="username">
            <div class="underline"></div>
        </div>
        <div class="input-field">
            <input type="password" name="password" id="password" placeholder="Enter Your Password" @bind="password">
            <div class="underline"></div>
        </div>
        <input type="submit" value="Continue" @onclick="HandleLogin">
    </form>
</main>
@code {
    private string username = string.Empty;
    private string password = string.Empty;
    private bool loginFailed = false;
    private void HandleLogin()
    {
        if (username == librarian.LibrarianId && password == librarian.LibrarianPassword)
        {
            loginFailed = false;
            librarian.canLogin = true;
            Navigation.NavigateTo("/LibrarianDashboard");
        }
        else
        {
            loginFailed = true;
            librarian.canLogin = false;

        }
    }
}